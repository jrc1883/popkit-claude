# PopKit Dashboard

## Summary

| Metric | Value |
|--------|-------|
| **Total Projects** | {{summary.total}} |
| **Healthy** (80+) | {{summary.healthy}} |
| **Warning** (50-79) | {{summary.warning}} |
| **Critical** (<50) | {{summary.critical}} |

---

## Projects

| Project | Health | Type | Last Active | Tags |
|---------|--------|------|-------------|------|
{{#each projects}}
| {{name}} | {{#if (gte healthScore 80)}}✅ {{healthScore}}{{else if (gte healthScore 50)}}⚠️ {{healthScore}}{{else}}❌ {{healthScore}}{{/if}} | {{type}} | {{lastAccessedRelative}} | {{#each tags}}{{this}} {{/each}} |
{{/each}}

---

## Health Indicators

- ✅ **Healthy** (80-100): Build passes, tests run, recent activity
- ⚠️ **Warning** (50-79): Some issues need attention
- ❌ **Critical** (0-49): Build failing, tests broken, or stale

---

## Health Score Breakdown

Each project is scored on 5 components (20 points each):

| Component | Criteria |
|-----------|----------|
| **Git Status** | Clean working tree (+20), uncommitted (-5/10 files), unpushed (-5/commit) |
| **Build Status** | Passed (+20), warnings (-2 each), failed (0) |
| **Test Coverage** | >80% (+20), 60-80% (+15), <60% (+10), none (+5) |
| **Issue Health** | No stale (+20), -2 per stale issue (>30 days) |
| **Activity** | Today (+20), week (+15), month (+10), older (+5) |

---

{{#if alerts}}
## Alerts

Projects needing attention:

{{#each alerts}}
### {{project}}
- **Health Score:** {{health}}/100
- **Reason:** {{reason}}
{{/each}}

{{/if}}

---

{{#if activity}}
## Recent Activity

| Project | Action | Time |
|---------|--------|------|
{{#each activity}}
| {{project}} | {{action}} | {{time}} |
{{/each}}

{{/if}}

---

## Available Commands

| Command | Description |
|---------|-------------|
| `/popkit:dashboard` | Show this dashboard |
| `/popkit:dashboard add .` | Add current project |
| `/popkit:dashboard add /path/to/project` | Add specific project |
| `/popkit:dashboard remove <name>` | Remove project |
| `/popkit:dashboard refresh` | Refresh all health scores |
| `/popkit:dashboard switch <name>` | Switch to a project |
| `/popkit:dashboard discover` | Auto-discover projects |

---

## Quick Actions

{{#if (gt summary.critical 0)}}
**⚠️ Critical projects detected!**
Consider running `/popkit:routine morning` on critical projects to identify issues.
{{/if}}

{{#if (eq summary.total 0)}}
**No projects registered yet.**
Run `/popkit:dashboard add .` to add your current project.
{{/if}}

---

*Generated by PopKit Dashboard | Last updated: {{timestamp}}*
